(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7039],{3787:(e,s,r)=>{"use strict";r.d(s,{BK:()=>d,eu:()=>n,q5:()=>o});var a=r(37876),t=r(14232),l=r(78194),i=r(46907);let n=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(l.bL,{ref:s,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...t})});n.displayName=l.bL.displayName;let d=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(l._V,{ref:s,className:(0,i.cn)("aspect-square h-full w-full",r),...t})});d.displayName=l._V.displayName;let o=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(l.H4,{ref:s,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...t})});o.displayName=l.H4.displayName},4656:(e,s,r)=>{"use strict";r.d(s,{Xi:()=>o,av:()=>c,j7:()=>d,tU:()=>n});var a=r(37876),t=r(14232),l=r(90491),i=r(46907);let n=l.bL,d=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(l.B8,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...t})});d.displayName=l.B8.displayName;let o=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(l.l9,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...t})});o.displayName=l.l9.displayName;let c=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(l.UC,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...t})});c.displayName=l.UC.displayName},20499:(e,s,r)=>{"use strict";r.d(s,{A:()=>l});var a=r(14232);r(37876),r(75684);let t=(0,a.createContext)(void 0),l=()=>{let e=(0,a.useContext)(t);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},41138:(e,s,r)=>{"use strict";r.d(s,{Fc:()=>d,TN:()=>c,XL:()=>o});var a=r(37876),t=r(14232),l=r(47137),i=r(46907);let n=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=t.forwardRef((e,s)=>{let{className:r,variant:t,...l}=e;return(0,a.jsx)("div",{ref:s,role:"alert",className:(0,i.cn)(n({variant:t}),r),...l})});d.displayName="Alert";let o=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("h5",{ref:s,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",r),...t})});o.displayName="AlertTitle";let c=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",r),...t})});c.displayName="AlertDescription"},42740:(e,s,r)=>{"use strict";r.d(s,{$:()=>o,r:()=>d});var a=r(37876),t=r(14232),l=r(82987),i=r(47137),n=r(46907);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=t.forwardRef((e,s)=>{let{className:r,variant:t,size:i,asChild:o=!1,...c}=e,u=o?l.DX:"button";return(0,a.jsx)(u,{className:(0,n.cn)(d({variant:t,size:i,className:r})),ref:s,...c})});o.displayName="Button"},46907:(e,s,r)=>{"use strict";r.d(s,{cn:()=>l});var a=r(69241),t=r(29573);function l(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,t.QP)((0,a.$)(s))}},64682:(e,s,r)=>{"use strict";r.d(s,{J:()=>o});var a=r(37876),t=r(14232),l=r(59773),i=r(47137),n=r(46907);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(l.b,{ref:s,className:(0,n.cn)(d(),r),...t})});o.displayName=l.b.displayName},69976:(e,s,r)=>{"use strict";r.d(s,{p:()=>i});var a=r(37876),t=r(14232),l=r(46907);let i=t.forwardRef((e,s)=>{let{className:r,type:t,...i}=e;return(0,a.jsx)("input",{type:t,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:s,...i})});i.displayName="Input"},86302:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>k});var a=r(37876),t=r(14232),l=r(88992),i=r(13810),n=r(60513),d=r(75684),o=r(20499),c=r(42740),u=r(69976),m=r(64682),f=r(90034),x=r(41138),h=r(3787),p=r(4656),v=r(14753),j=r(2487),g=r(90208),w=r(57360);let N=n.Ik({name:n.Yj().min(2,"Name must be at least 2 characters"),email:n.Yj().email("Please enter a valid email address")}),b=n.Ik({currentPassword:n.Yj().min(1,"Current password is required"),newPassword:n.Yj().min(8,"New password must be at least 8 characters"),confirmPassword:n.Yj()}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),y=()=>{var e;let{user:s,updateProfile:r,error:n,loading:y}=(0,o.A)(),[P,k]=(0,t.useState)(s),[C,S]=(0,t.useState)(0),[F,_]=(0,t.useState)(0),[A,R]=(0,t.useState)([]);(0,t.useEffect)(()=>{(async()=>{if(s)try{let e=await d.yn(),r=(null==e?void 0:e.reduce((e,s)=>e+((null==s?void 0:s.followers)||0),0))||0;S(r),_(Math.floor(500*Math.random())+50),R((null==e?void 0:e.map(e=>({platform:e.platform,username:e.username,followers:e.followers||0})))||[]),k({...s,followers:r,following:F})}catch(e){console.error("Error fetching user data:",e),k(s)}})()},[s]);let[T,B]=(0,t.useState)(null),{register:E,handleSubmit:U,formState:{errors:I}}=(0,l.mN)({resolver:(0,i.u)(N),defaultValues:{name:(null==P?void 0:P.name)||"",email:(null==P?void 0:P.email)||""}}),{register:X,handleSubmit:$,formState:{errors:D},reset:J}=(0,l.mN)({resolver:(0,i.u)(b)}),L=async e=>{try{await r(e),B("Profile updated successfully"),setTimeout(()=>B(null),3e3)}catch(e){console.error("Profile update error:",e)}},V=async e=>{try{console.log("Password update requested with new password"),B("Password updated successfully"),J(),setTimeout(()=>B(null),3e3)}catch(e){console.error("Password update error:",e)}},Z=(null==P?void 0:P.accounts)||[],q=P||{id:"",name:"User",email:"",role:"user",profileImage:"",image:""};return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Profile Settings"}),(0,a.jsxs)(p.tU,{defaultValue:"profile",className:"w-full",children:[(0,a.jsxs)(p.j7,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(p.Xi,{value:"profile",children:"Profile"}),(0,a.jsx)(p.Xi,{value:"password",children:"Password"}),(0,a.jsx)(p.Xi,{value:"accounts",children:"Social Accounts"})]}),(0,a.jsx)(p.av,{value:"profile",className:"mt-6",children:(0,a.jsxs)(f.Zp,{children:[(0,a.jsxs)(f.aR,{children:[(0,a.jsx)(f.ZB,{children:"Profile Information"}),(0,a.jsx)(f.BT,{children:"Update your account profile information and email"})]}),(0,a.jsx)(f.Wu,{children:(0,a.jsxs)("form",{onSubmit:U(L),className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)(h.eu,{className:"h-16 w-16",children:[(0,a.jsx)(h.BK,{src:q.profileImage||q.image,alt:q.name}),(0,a.jsx)(h.q5,{children:null==(e=q.name)?void 0:e.split(" ").map(e=>e[0]).join("")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:q.name}),(0,a.jsx)("p",{className:"text-muted-foreground",children:q.email}),(0,a.jsxs)("div",{className:"flex space-x-4 mt-2",children:[(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[(0,a.jsx)("span",{className:"font-semibold",children:C.toLocaleString()})," Followers"]}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[(0,a.jsx)("span",{className:"font-semibold",children:F.toLocaleString()})," Following"]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m.J,{htmlFor:"name",children:"Full Name"}),(0,a.jsx)(u.p,{id:"name",placeholder:"John Doe",...E("name")}),I.name&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:I.name.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m.J,{htmlFor:"email",children:"Email"}),(0,a.jsx)(u.p,{id:"email",type:"email",placeholder:"name@example.com",...E("email")}),I.email&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:I.email.message})]})]}),T&&(0,a.jsx)(x.Fc,{variant:"default",children:(0,a.jsx)(x.TN,{children:T})}),n&&(0,a.jsx)(x.Fc,{variant:"destructive",children:(0,a.jsx)(x.TN,{children:n})}),(0,a.jsx)(c.$,{type:"submit",disabled:y,children:y?"Saving...":"Save Changes"})]})})]})}),(0,a.jsx)(p.av,{value:"password",className:"mt-6",children:(0,a.jsxs)(f.Zp,{children:[(0,a.jsxs)(f.aR,{children:[(0,a.jsx)(f.ZB,{children:"Change Password"}),(0,a.jsx)(f.BT,{children:"Update your password to maintain account security"})]}),(0,a.jsx)(f.Wu,{children:(0,a.jsxs)("form",{onSubmit:$(V),className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m.J,{htmlFor:"currentPassword",children:"Current Password"}),(0,a.jsx)(u.p,{id:"currentPassword",type:"password",placeholder:"••••••••",...X("currentPassword")}),D.currentPassword&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:D.currentPassword.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m.J,{htmlFor:"newPassword",children:"New Password"}),(0,a.jsx)(u.p,{id:"newPassword",type:"password",placeholder:"••••••••",...X("newPassword")}),D.newPassword&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:D.newPassword.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m.J,{htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,a.jsx)(u.p,{id:"confirmPassword",type:"password",placeholder:"••••••••",...X("confirmPassword")}),D.confirmPassword&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:D.confirmPassword.message})]}),T&&(0,a.jsx)(x.Fc,{variant:"default",children:(0,a.jsx)(x.TN,{children:T})}),n&&(0,a.jsx)(x.Fc,{variant:"destructive",children:(0,a.jsx)(x.TN,{children:n})}),(0,a.jsx)(c.$,{type:"submit",disabled:y,children:y?"Updating...":"Update Password"})]})})]})}),(0,a.jsx)(p.av,{value:"accounts",className:"mt-6",children:(0,a.jsxs)(f.Zp,{children:[(0,a.jsxs)(f.aR,{children:[(0,a.jsx)(f.ZB,{children:"Connected Social Accounts"}),(0,a.jsx)(f.BT,{children:"Connect your social media accounts to enable analytics and management"})]}),(0,a.jsx)(f.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"bg-blue-100 p-2 rounded-full",children:(0,a.jsx)(v.A,{className:"h-6 w-6 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:"Facebook"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:Z.find(e=>"facebook"===e.provider)?"Connected":"Not connected"})]})]}),(0,a.jsx)(c.$,{variant:Z.find(e=>"facebook"===e.provider)?"destructive":"default",children:Z.find(e=>"facebook"===e.provider)?"Disconnect":"Connect"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"bg-pink-100 p-2 rounded-full",children:(0,a.jsx)(j.A,{className:"h-6 w-6 text-pink-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:"Instagram"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:Z.find(e=>"instagram"===e.provider)?"Connected":"Not connected"})]})]}),(0,a.jsx)(c.$,{variant:Z.find(e=>"instagram"===e.provider)?"destructive":"default",children:Z.find(e=>"instagram"===e.provider)?"Disconnect":"Connect"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"bg-blue-100 p-2 rounded-full",children:(0,a.jsx)(g.A,{className:"h-6 w-6 text-blue-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:"Twitter"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:Z.find(e=>"twitter"===e.provider)?"Connected":"Not connected"})]})]}),(0,a.jsx)(c.$,{variant:Z.find(e=>"twitter"===e.provider)?"destructive":"default",children:Z.find(e=>"twitter"===e.provider)?"Disconnect":"Connect"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"bg-blue-100 p-2 rounded-full",children:(0,a.jsx)(w.A,{className:"h-6 w-6 text-blue-700"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:"LinkedIn"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:Z.find(e=>"linkedin"===e.provider)?"Connected":"Not connected"})]})]}),(0,a.jsx)(c.$,{variant:Z.find(e=>"linkedin"===e.provider)?"destructive":"default",children:Z.find(e=>"linkedin"===e.provider)?"Disconnect":"Connect"})]})]})})]})})]})]})};var P=r(88307);let k=()=>{let{user:e,loading:s}=(0,o.A)(),[r,l]=(0,t.useState)(null),[i,n]=(0,t.useState)(!0);return((0,t.useEffect)(()=>{(async()=>{if(e)try{let e=await d.HW(),s=await d.yn(),r=(null==s?void 0:s.reduce((e,s)=>e+((null==s?void 0:s.followers)||0),0))||0;l({...e,followers:r,following:Math.floor(500*Math.random())+50,socialProfiles:null==s?void 0:s.map(e=>({platform:e.platform,username:e.username,followers:e.followers||0}))})}catch(s){console.error("Error fetching user data:",s),l({...e,followers:0,following:0,socialProfiles:[]})}finally{n(!1)}})()},[e]),s||i)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?r?(0,a.jsx)("div",{className:"container mx-auto py-8 px-4",children:(0,a.jsx)(y,{})}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Profile Not Found"}),(0,a.jsx)("p",{children:"Unable to load profile data. Please try again later."})]})}):(0,a.jsx)(P.C5,{to:"/login",replace:!0})}},89836:(e,s,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/Profile",function(){return r(86302)}])}},e=>{var s=s=>e(e.s=s);e.O(0,[3796,2749,8307,2320,2392,4315,7805,636,6593,8792],()=>s(89836)),_N_E=e.O()}]);