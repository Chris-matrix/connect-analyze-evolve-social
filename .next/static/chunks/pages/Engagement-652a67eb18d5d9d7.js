(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3865],{3787:(e,t,r)=>{"use strict";r.d(t,{BK:()=>c,eu:()=>i,q5:()=>o});var s=r(37876),a=r(14232),n=r(78194),l=r(46907);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.bL,{ref:t,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...a})});i.displayName=n.bL.displayName;let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n._V,{ref:t,className:(0,l.cn)("aspect-square h-full w-full",r),...a})});c.displayName=n._V.displayName;let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.H4,{ref:t,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...a})});o.displayName=n.H4.displayName},46257:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var s=r(37876),a=r(14232),n=r(44065),l=r(48375);let i=(0,l.A)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),c=(0,l.A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),o=(0,l.A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),d=(0,l.A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var m=r(90034),u=r(3787),x=r(98009),h=r(64085),f=r(18525),g=r(84211),p=r(4356),j=r(44247),v=r(90922),N=r(66512),y=r(87113),w=r(75684);let b=()=>{let[e,t]=(0,a.useState)(!0),[r,l]=(0,a.useState)(null),[b,k]=(0,a.useState)(null);if((0,a.useEffect)(()=>{(async()=>{try{console.log("Fetching engagement data...");let e=await w.Aj();if(console.log("Engagement data received:",e),!e)throw Error("No data returned from API");let t={totalEngagements:e.totalEngagements||0,totalComments:e.totalComments||0,responseRate:e.responseRate||0,avgResponseTime:e.avgResponseTime||0,sentimentScore:e.sentimentScore||0,recentComments:e.recentComments||[],engagementTrends:e.engagementTrends||[],platformEngagement:e.platformEngagement||[]};console.log("Setting engagement data:",t),l(t)}catch(e){console.error("Error fetching engagement data:",e),k("Failed to load engagement data. "+e.message)}finally{t(!1)}})()},[]),e)return(0,s.jsxs)("div",{className:"flex justify-center items-center h-64",children:[(0,s.jsx)(n.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,s.jsx)("span",{className:"ml-2",children:"Loading engagement data..."})]});if(b)return(0,s.jsxs)("div",{className:"p-6 text-center text-red-500",children:[(0,s.jsx)("p",{children:b}),(0,s.jsx)("button",{className:"mt-4 px-4 py-2 bg-primary text-white rounded-md",onClick:()=>window.location.reload(),children:"Try Again"})]});let{recentComments:E,engagementTrends:R,platformEngagement:A}=r,S=e=>{switch(e){case"like":return(0,s.jsx)(i,{className:"h-4 w-4 text-blue-500"});case"share":return(0,s.jsx)(c,{className:"h-4 w-4 text-green-500"});case"love":return(0,s.jsx)(o,{className:"h-4 w-4 text-red-500"});default:return(0,s.jsx)(d,{className:"h-4 w-4 text-purple-500"})}},_=e=>{switch(e){case"high":return(0,s.jsx)(x.E,{variant:"destructive",className:"ml-2",children:"High Priority"});case"medium":return(0,s.jsx)(x.E,{variant:"outline",className:"ml-2 bg-amber-100 text-amber-800 hover:bg-amber-100",children:"Medium"});default:return(0,s.jsx)(x.E,{variant:"outline",className:"ml-2",children:"Low"})}};return(0,s.jsxs)("div",{className:"space-y-6 p-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Engagement"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsxs)(m.Zp,{children:[(0,s.jsx)(m.aR,{className:"pb-2",children:(0,s.jsx)(m.ZB,{className:"text-sm font-medium",children:"Total Engagements"})}),(0,s.jsxs)(m.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:r.totalEngagements.toLocaleString()}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Last 30 days"})]})]}),(0,s.jsxs)(m.Zp,{children:[(0,s.jsx)(m.aR,{className:"pb-2",children:(0,s.jsx)(m.ZB,{className:"text-sm font-medium",children:"Comments"})}),(0,s.jsxs)(m.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:r.totalComments.toLocaleString()}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Response rate: ",r.responseRate,"%"]})]})]}),(0,s.jsxs)(m.Zp,{children:[(0,s.jsx)(m.aR,{className:"pb-2",children:(0,s.jsx)(m.ZB,{className:"text-sm font-medium",children:"Average Response Time"})}),(0,s.jsxs)(m.Wu,{children:[(0,s.jsxs)("div",{className:"text-2xl font-bold",children:[r.avgResponseTime," hrs"]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Industry avg: 5.2 hrs"})]})]}),(0,s.jsxs)(m.Zp,{children:[(0,s.jsx)(m.aR,{className:"pb-2",children:(0,s.jsx)(m.ZB,{className:"text-sm font-medium",children:"Sentiment Score"})}),(0,s.jsxs)(m.Wu,{children:[(0,s.jsxs)("div",{className:"text-2xl font-bold",children:[r.sentimentScore,"/10"]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Based on comment analysis"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)(m.Zp,{className:"lg:col-span-2",children:[(0,s.jsxs)(m.aR,{children:[(0,s.jsx)(m.ZB,{children:"Engagement Trends"}),(0,s.jsx)(m.BT,{children:"30-day engagement metrics across platforms"})]}),(0,s.jsx)(m.Wu,{children:(0,s.jsx)("div",{className:"h-80",children:(0,s.jsx)(h.u,{width:"100%",height:"100%",children:(0,s.jsxs)(f.b,{data:R,margin:{top:5,right:30,left:20,bottom:5},children:[(0,s.jsx)(g.d,{strokeDasharray:"3 3"}),(0,s.jsx)(p.W,{dataKey:"date"}),(0,s.jsx)(j.h,{}),(0,s.jsx)(v.m,{}),(0,s.jsx)(N.s,{}),(0,s.jsx)(y.N,{type:"monotone",dataKey:"likes",stroke:"#8884d8",activeDot:{r:8}}),(0,s.jsx)(y.N,{type:"monotone",dataKey:"comments",stroke:"#82ca9d"}),(0,s.jsx)(y.N,{type:"monotone",dataKey:"shares",stroke:"#ffc658"})]})})})})]}),(0,s.jsxs)(m.Zp,{children:[(0,s.jsxs)(m.aR,{children:[(0,s.jsx)(m.ZB,{children:"Recent Interactions"}),(0,s.jsx)(m.BT,{children:"Latest comments and mentions"})]}),(0,s.jsx)(m.Wu,{children:(0,s.jsx)("div",{className:"space-y-4 max-h-80 overflow-auto pr-2",children:E.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-start space-x-4 p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[(0,s.jsxs)(u.eu,{children:[(0,s.jsx)(u.BK,{src:"https://i.pravatar.cc/150?u=".concat(e.user),alt:e.user}),(0,s.jsx)(u.q5,{children:e.user.substring(0,2).toUpperCase()})]}),(0,s.jsxs)("div",{className:"space-y-1 flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:e.user}),_(e.priority)]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.text}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground",children:[(0,s.jsx)("span",{children:e.platform}),(0,s.jsx)("span",{children:"â€¢"}),(0,s.jsx)("span",{children:e.time})]}),(0,s.jsx)("div",{className:"flex items-center",children:S(e.type)})]})]})]},t))})})]})]})]})}},46907:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(69241),a=r(29573);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},48375:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var s=r(14232);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:m,...u}=e;return(0,s.createElement)("svg",{ref:t,...l,width:a,height:a,stroke:r,strokeWidth:c?24*Number(i)/Number(a):i,className:n("lucide",o),...u},[...m.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let r=(0,s.forwardRef)((r,l)=>{let{className:c,...o}=r;return(0,s.createElement)(i,{ref:l,iconNode:t,className:n("lucide-".concat(a(e)),c),...o})});return r.displayName="".concat(e),r}},53058:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/Engagement",function(){return r(46257)}])},62146:(e,t,r)=>{"use strict";r.d(t,{c:()=>a});var s=r(14232);function a(e){let t=s.useRef(e);return s.useEffect(()=>{t.current=e}),s.useMemo(()=>(...e)=>t.current?.(...e),[])}},66326:(e,t,r)=>{"use strict";r.d(t,{hO:()=>c,sG:()=>i});var s=r(14232),a=r(98477),n=r(82987),l=r(37876),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=s.forwardRef((e,r)=>{let{asChild:s,...a}=e,i=s?n.DX:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(i,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function c(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}},78194:(e,t,r)=>{"use strict";r.d(t,{H4:()=>y,_V:()=>N,bL:()=>v});var s=r(14232),a=r(91844),n=r(62146),l=r(81285),i=r(66326),c=r(37876),o="Avatar",[d,m]=(0,a.A)(o),[u,x]=d(o),h=s.forwardRef((e,t)=>{let{__scopeAvatar:r,...a}=e,[n,l]=s.useState("idle");return(0,c.jsx)(u,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:l,children:(0,c.jsx)(i.sG.span,{...a,ref:t})})});h.displayName=o;var f="AvatarImage",g=s.forwardRef((e,t)=>{let{__scopeAvatar:r,src:a,onLoadingStatusChange:o=()=>{},...d}=e,m=x(f,r),u=function(e,t){let[r,a]=s.useState("idle");return(0,l.N)(()=>{if(!e)return void a("error");let r=!0,s=new window.Image,n=e=>()=>{r&&a(e)};return a("loading"),s.onload=n("loaded"),s.onerror=n("error"),s.src=e,t&&(s.referrerPolicy=t),()=>{r=!1}},[e,t]),r}(a,d.referrerPolicy),h=(0,n.c)(e=>{o(e),m.onImageLoadingStatusChange(e)});return(0,l.N)(()=>{"idle"!==u&&h(u)},[u,h]),"loaded"===u?(0,c.jsx)(i.sG.img,{...d,ref:t,src:a}):null});g.displayName=f;var p="AvatarFallback",j=s.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:a,...n}=e,l=x(p,r),[o,d]=s.useState(void 0===a);return s.useEffect(()=>{if(void 0!==a){let e=window.setTimeout(()=>d(!0),a);return()=>window.clearTimeout(e)}},[a]),o&&"loaded"!==l.imageLoadingStatus?(0,c.jsx)(i.sG.span,{...n,ref:t}):null});j.displayName=p;var v=h,N=g,y=j},81285:(e,t,r)=>{"use strict";r.d(t,{N:()=>a});var s=r(14232),a=globalThis?.document?s.useLayoutEffect:()=>{}},91844:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,q:()=>n});var s=r(14232),a=r(37876);function n(e,t){let r=s.createContext(t),n=e=>{let{children:t,...n}=e,l=s.useMemo(()=>n,Object.values(n));return(0,a.jsx)(r.Provider,{value:l,children:t})};return n.displayName=e+"Provider",[n,function(a){let n=s.useContext(r);if(n)return n;if(void 0!==t)return t;throw Error(`\`${a}\` must be used within \`${e}\``)}]}function l(e,t=[]){let r=[],n=()=>{let t=r.map(e=>s.createContext(e));return function(r){let a=r?.[e]||t;return s.useMemo(()=>({[`__scope${e}`]:{...r,[e]:a}}),[r,a])}};return n.scopeName=e,[function(t,n){let l=s.createContext(n),i=r.length;r=[...r,n];let c=t=>{let{scope:r,children:n,...c}=t,o=r?.[e]?.[i]||l,d=s.useMemo(()=>c,Object.values(c));return(0,a.jsx)(o.Provider,{value:d,children:n})};return c.displayName=t+"Provider",[c,function(r,a){let c=a?.[e]?.[i]||l,o=s.useContext(c);if(o)return o;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=r.reduce((t,{useScope:r,scopeName:s})=>{let a=r(e)[`__scope${s}`];return{...t,...a}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}(n,...t)]}},98009:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var s=r(37876);r(14232);var a=r(47137),n=r(46907);let l=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)(l({variant:r}),t),...a})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2749,1699,8525,7805,636,6593,8792],()=>t(53058)),_N_E=e.O()}]);