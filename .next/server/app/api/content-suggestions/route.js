(()=>{var e={};e.id=3065,e.ids=[3065],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11723:e=>{"use strict";e.exports=require("querystring")},12412:e=>{"use strict";e.exports=require("assert")},26611:(e,t,r)=>{"use strict";r.d(t,{LO:()=>l,fG:()=>c,j2:()=>p});var s=r(19854),n=r.n(s),o=r(13581),i=r(96330),a=r(85663);let u=new i.PrismaClient,{handlers:{GET:c,POST:l},auth:p,signIn:d,signOut:g}=n()({...{session:{strategy:"jwt"},pages:{signIn:"/login",error:"/login"},callbacks:{jwt:async({token:e,user:t})=>(t&&(e.id=t.id,e.role=t.role),e),session:async({session:e,token:t})=>(e.user&&(e.user.id=t.id,e.user.role=t.role),e)}},session:{strategy:"jwt"},pages:{signIn:"/login",error:"/login"},providers:[(0,o.A)({name:"Credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(e){if(!e?.email||!e?.password)return null;let t=await u.user.findUnique({where:{email:e.email}});return t&&t.password&&await a.Ay.compare(e.password,t.password)?{id:t.id,name:t.name,email:t.email,image:t.image,role:t.role}:null}})]})},28354:e=>{"use strict";e.exports=require("util")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31199:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>w,routeModule:()=>g,serverHooks:()=>y,workAsyncStorage:()=>f,workUnitAsyncStorage:()=>x});var s={};r.r(s),r.d(s,{GET:()=>p,POST:()=>d});var n=r(96559),o=r(48088),i=r(37719),a=r(32190),u=r(96330),c=r(26611);let l=new u.PrismaClient;async function p(e){try{let t=await (0,c.j2)();if(!t?.user)return a.NextResponse.json({error:"Unauthorized"},{status:401});let r=t.user.id,s=e.nextUrl.searchParams,n=s.get("platform"),o=s.get("status"),i={userId:r};n&&(i.platform=n),o&&(i.status=o);let u=await l.contentSuggestion.findMany({where:i,orderBy:{createdAt:"desc"}});return a.NextResponse.json(u)}catch(e){return console.error("Error fetching content suggestions:",e),a.NextResponse.json({error:"Failed to fetch content suggestions"},{status:500})}}async function d(e){try{let t=await (0,c.j2)();if(!t?.user)return a.NextResponse.json({error:"Unauthorized"},{status:401});let r=t.user.id,s=await e.json(),n=await l.contentSuggestion.create({data:{...s,userId:r}});return a.NextResponse.json(n,{status:201})}catch(e){return console.error("Error creating content suggestion:",e),a.NextResponse.json({error:"Failed to create content suggestion"},{status:500})}}let g=new n.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/content-suggestions/route",pathname:"/api/content-suggestions",filename:"route",bundlePath:"app/api/content-suggestions/route"},resolvedPagePath:"C:\\Users\\cmaxx\\social-connect\\connect-analyze-evolve-social\\app\\api\\content-suggestions\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:f,workUnitAsyncStorage:x,serverHooks:y}=g;function w(){return(0,i.patchFetch)({workAsyncStorage:f,workUnitAsyncStorage:x})}},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},76926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return u}});let s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var s={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(s,i,a):s[i]=e[i]}return s.default=e,r&&r.set(e,s),s}(r(61120));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}let o={current:null},i="function"==typeof s.cache?s.cache:e=>e,a=console.warn;function u(e){return function(...t){a(e(...t))}}i(e=>{try{a(o.current)}finally{o.current=null}})},78335:()=>{},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},94735:e=>{"use strict";e.exports=require("events")},96330:e=>{"use strict";e.exports=require("@prisma/client")},96487:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4243,5663,3412,580],()=>r(31199));module.exports=s})();