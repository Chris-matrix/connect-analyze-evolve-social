"use strict";(()=>{var e={};e.id=6327,e.ids=[3220,6327],e.modules={1428:e=>{e.exports=import("axios")},1731:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(56732).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3980:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(56732).A)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]])},6614:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(56732).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},8732:e=>{e.exports=require("react/jsx-runtime")},8938:e=>{e.exports=import("class-variance-authority")},9640:e=>{e.exports=import("@radix-ui/react-slot")},9812:e=>{e.exports=import("@radix-ui/react-switch")},13020:e=>{e.exports=import("@radix-ui/react-dialog")},15642:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{cr:()=>c,et:()=>h,iy:()=>d,yn:()=>n});var r=a(1428),l=a(7154),i=e([r]);let o=(r=(i.then?(await i)():i)[0]).default.create({baseURL:"http://localhost:5000/api",withCredentials:!0,headers:{"Content-Type":"application/json"}}),n=async()=>{try{try{return(await o.get("/social-profiles")).data}catch(a){console.log("API fetch failed, falling back to database:",a);let e=localStorage.getItem("userId");if(e)return await l.kQ.getProfilesByUserId(e);let t=localStorage.getItem("socialProfiles");if(t)return JSON.parse(t)}return[]}catch(e){return console.error("Error fetching social profiles:",e),[]}},c=async e=>{try{try{return(await o.post("/social-profiles",e)).data}catch(t){return console.log("API add failed, adding directly to database:",t),await l.kQ.addProfile(e)}}catch(e){throw console.error("Error adding social profile:",e),e}},d=async(e,t)=>{try{try{return(await o.put(`/social-profiles/${e}`,t)).data}catch(s){console.log("API update failed, updating directly in database:",s);let a=await l.kQ.updateProfile(e,t);if(!a)throw Error("Profile not found");return a}}catch(e){throw console.error("Error updating social profile:",e),e}},h=async e=>{try{try{return(await o.delete(`/social-profiles/${e}`)).data}catch(t){return console.log("API delete failed, deleting directly from database:",t),{message:(await l.kQ.deleteProfile(e)).message}}}catch(e){throw console.error("Error deleting social profile:",e),e}};s()}catch(e){s(e)}})},20598:e=>{e.exports=import("@radix-ui/react-label")},27465:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{config:()=>g,default:()=>x,getServerSideProps:()=>u,getStaticPaths:()=>f,getStaticProps:()=>m,reportWebVitals:()=>y,routeModule:()=>k,unstable_getServerProps:()=>N,unstable_getServerSideProps:()=>b,unstable_getStaticParams:()=>w,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>j});var r=a(63885),l=a(80237),i=a(81413),o=a(58548),n=a.n(o),c=a(19380),d=a.n(c),h=a(60164),p=e([h]);h=(p.then?(await p)():p)[0];let x=(0,i.M)(h,"default"),m=(0,i.M)(h,"getStaticProps"),f=(0,i.M)(h,"getStaticPaths"),u=(0,i.M)(h,"getServerSideProps"),g=(0,i.M)(h,"config"),y=(0,i.M)(h,"reportWebVitals"),j=(0,i.M)(h,"unstable_getStaticProps"),v=(0,i.M)(h,"unstable_getStaticPaths"),w=(0,i.M)(h,"unstable_getStaticParams"),N=(0,i.M)(h,"unstable_getServerProps"),b=(0,i.M)(h,"unstable_getServerSideProps"),k=new r.PagesRouteModule({definition:{kind:l.A.PAGES,page:"/SocialProfiles",pathname:"/SocialProfiles",bundlePath:"",filename:""},components:{App:d(),Document:n()},userland:h});s()}catch(e){s(e)}})},33873:e=>{e.exports=require("path")},37285:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(56732).A)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]])},40361:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},47860:e=>{e.exports=import("@radix-ui/react-select")},49067:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(56732).A)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]])},50802:e=>{e.exports=import("clsx")},52249:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(56732).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},56037:e=>{e.exports=require("mongoose")},57663:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(56732).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},60164:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>P});var r=a(8732),l=a(82015),i=a(37285),o=a(3980),n=a(49067),c=a(77505),d=a(1731),h=a(69140),p=a(6614),x=a(57663),m=a(16730),f=a(75280),u=a(46007),g=a(78706),y=a(66696),j=a(89616),v=a(59866),w=a(68547),N=a(71288),b=a(15642),k=a(74264),S=e([m,f,u,g,y,j,v,w,N,b]);[m,f,u,g,y,j,v,w,N,b]=S.then?(await S)():S;let P=()=>{let{user:e}=(0,k.A)(),[t,a]=(0,l.useState)([]),[s,S]=(0,l.useState)(!0),[P,A]=(0,l.useState)(null),[C,M]=(0,l.useState)(!1),[E,z]=(0,l.useState)(!1),[U,F]=(0,l.useState)(null),[I,q]=(0,l.useState)("instagram"),[L,$]=(0,l.useState)(""),[_,R]=(0,l.useState)(""),[D,T]=(0,l.useState)(!0);(0,l.useEffect)(()=>{(async()=>{try{if(e){let e=await b.yn();a(e||[])}}catch(e){console.error("Error fetching profiles:",e),A("Failed to load social profiles")}finally{S(!1)}})()},[e]);let V=async()=>{try{S(!0);let s=await b.cr({userId:e?.id||"",platform:I,username:L,profileUrl:_,connected:D,followers:0,lastUpdated:new Date().toISOString()});a([...t,s]),G(),M(!1)}catch(e){console.error("Error adding profile:",e),A("Failed to add social profile")}finally{S(!1)}},O=async()=>{if(U)try{S(!0);let e=await b.iy(U.id,{platform:I,username:L,profileUrl:_,connected:D}),s=t.map(t=>t.id===U.id?e:t);a(s),G(),z(!1)}catch(e){console.error("Error updating profile:",e),A("Failed to update social profile")}finally{S(!1)}},H=async e=>{try{S(!0),await b.et(e),a(t.filter(t=>t.id!==e))}catch(e){console.error("Error deleting profile:",e),A("Failed to delete social profile")}finally{S(!1)}},J=e=>{F(e),q(e.platform),$(e.username),R(e.profileUrl),T(e.connected),z(!0)},G=()=>{q("instagram"),$(""),R(""),T(!0),F(null)},Q=e=>{switch(e){case"instagram":return(0,r.jsx)(i.A,{className:"h-6 w-6 text-pink-500"});case"twitter":return(0,r.jsx)(o.A,{className:"h-6 w-6 text-blue-400"});case"facebook":return(0,r.jsx)(n.A,{className:"h-6 w-6 text-blue-600"});case"linkedin":return(0,r.jsx)(c.A,{className:"h-6 w-6 text-blue-700"});default:return(0,r.jsx)(i.A,{className:"h-6 w-6"})}},B=()=>(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(g.J,{htmlFor:"platform",children:"Platform"}),(0,r.jsxs)(y.l6,{value:I,onValueChange:e=>q(e),children:[(0,r.jsx)(y.bq,{children:(0,r.jsx)(y.yv,{placeholder:"Select platform"})}),(0,r.jsxs)(y.gC,{children:[(0,r.jsx)(y.eb,{value:"instagram",children:"Instagram"}),(0,r.jsx)(y.eb,{value:"twitter",children:"Twitter"}),(0,r.jsx)(y.eb,{value:"facebook",children:"Facebook"}),(0,r.jsx)(y.eb,{value:"linkedin",children:"LinkedIn"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(g.J,{htmlFor:"username",children:"Username"}),(0,r.jsx)(u.p,{id:"username",value:L,onChange:e=>$(e.target.value),placeholder:"e.g., yourcompany"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(g.J,{htmlFor:"profileUrl",children:"Profile URL"}),(0,r.jsx)(u.p,{id:"profileUrl",value:_,onChange:e=>R(e.target.value),placeholder:"e.g., https://instagram.com/yourcompany"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(N.d,{id:"connected",checked:D,onCheckedChange:T}),(0,r.jsx)(g.J,{htmlFor:"connected",children:"Connected"})]})]});return s?(0,r.jsxs)("div",{className:"space-y-6 p-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Social Profiles"}),(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})]}):P?(0,r.jsxs)("div",{className:"space-y-6 p-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Social Profiles"}),(0,r.jsx)(v.Fc,{children:(0,r.jsx)(v.TN,{children:P})})]}):(0,r.jsxs)("div",{className:"space-y-6 p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Social Profiles"}),(0,r.jsxs)(j.lG,{open:C,onOpenChange:M,children:[(0,r.jsx)(j.zM,{asChild:!0,children:(0,r.jsxs)(f.$,{children:[(0,r.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Add Profile"]})}),(0,r.jsxs)(j.Cf,{children:[(0,r.jsxs)(j.c7,{children:[(0,r.jsx)(j.L3,{children:"Add Social Profile"}),(0,r.jsx)(j.rr,{children:"Connect a new social media profile to track its performance."})]}),B(),(0,r.jsxs)(j.Es,{children:[(0,r.jsx)(f.$,{variant:"outline",onClick:()=>M(!1),children:"Cancel"}),(0,r.jsx)(f.$,{onClick:V,disabled:!L||!_,children:"Add Profile"})]})]})]})]}),0===t.length?(0,r.jsx)("div",{className:"flex items-center justify-center h-64 bg-muted rounded-lg",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(d.A,{className:"h-16 w-16 mx-auto text-muted-foreground"}),(0,r.jsx)("p",{className:"mt-4 text-lg font-medium",children:"No Social Profiles"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Add your first social media profile to get started"}),(0,r.jsx)(f.$,{onClick:()=>M(!0),children:"Add Profile"})]})}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,r.jsxs)(m.Zp,{children:[(0,r.jsx)(m.aR,{className:"pb-2",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[Q(e.platform),(0,r.jsxs)("div",{children:[(0,r.jsx)(m.ZB,{className:"text-lg",children:e.username}),(0,r.jsx)(m.BT,{children:e.platform.charAt(0).toUpperCase()+e.platform.slice(1)})]})]}),(0,r.jsx)(w.E,{variant:e.connected?"default":"outline",children:e.connected?"Connected":"Disconnected"})]})}),(0,r.jsx)(m.Wu,{children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Followers"}),(0,r.jsx)("span",{className:"font-medium",children:e.followers.toLocaleString()})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Last Updated"}),(0,r.jsx)("span",{className:"text-sm",children:new Date(e.lastUpdated).toLocaleDateString()})]})]})}),(0,r.jsxs)(m.wL,{className:"flex justify-between",children:[(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)(f.$,{variant:"outline",size:"sm",onClick:()=>J(e),children:[(0,r.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,r.jsxs)(f.$,{variant:"outline",size:"sm",className:"text-destructive",onClick:()=>H(e.id),children:[(0,r.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Remove"]})]}),(0,r.jsx)(f.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,r.jsxs)("a",{href:e.profileUrl,target:"_blank",rel:"noopener noreferrer",children:[(0,r.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"View"]})})]})]},e.id))}),(0,r.jsx)(j.lG,{open:E,onOpenChange:z,children:(0,r.jsxs)(j.Cf,{children:[(0,r.jsxs)(j.c7,{children:[(0,r.jsx)(j.L3,{children:"Edit Social Profile"}),(0,r.jsx)(j.rr,{children:"Update your social media profile information."})]}),B(),(0,r.jsxs)(j.Es,{children:[(0,r.jsx)(f.$,{variant:"outline",onClick:()=>z(!1),children:"Cancel"}),(0,r.jsx)(f.$,{onClick:O,disabled:!L||!_,children:"Save Changes"})]})]})})]})};s()}catch(e){s(e)}})},69140:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(56732).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},75979:e=>{e.exports=import("tailwind-merge")},77505:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(56732).A)("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]])},82015:e=>{e.exports=require("react")},89616:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{Cf:()=>m,Es:()=>u,L3:()=>g,c7:()=>f,lG:()=>d,rr:()=>y,zM:()=>h});var r=a(8732),l=a(82015),i=a(13020),o=a(52249),n=a(24089),c=e([i,n]);[i,n]=c.then?(await c)():c;let d=i.Root,h=i.Trigger,p=i.Portal;i.Close;let x=l.forwardRef(({className:e,...t},a)=>(0,r.jsx)(i.Overlay,{ref:a,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));x.displayName=i.Overlay.displayName;let m=l.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(p,{children:[(0,r.jsx)(x,{}),(0,r.jsxs)(i.Content,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,(0,r.jsxs)(i.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(o.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=i.Content.displayName;let f=({className:e,...t})=>(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});f.displayName="DialogHeader";let u=({className:e,...t})=>(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});u.displayName="DialogFooter";let g=l.forwardRef(({className:e,...t},a)=>(0,r.jsx)(i.Title,{ref:a,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));g.displayName=i.Title.displayName;let y=l.forwardRef(({className:e,...t},a)=>(0,r.jsx)(i.Description,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));y.displayName=i.Description.displayName,s()}catch(e){s(e)}})}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[8548,9024,4226],()=>a(27465));module.exports=s})();